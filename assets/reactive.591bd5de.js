import{r as p,M as S,u as v,C as B,_ as x,j as w,B as I,a as P,b as u,c as R,f as y,F as A,V as E}from"./index.18051f33.js";import{G}from"./ground.0d49deb0.js";import{L as T}from"./Lut.bc3ae21c.js";const j=({coordinateMapper:i,radius:a=2,nPoints:e=800,cubeSideLength:s=.05,colorLut:g="cooltowarm"})=>{const r=p.exports.useRef(null),C=p.exports.useMemo(()=>new S,[]);return p.exports.useEffect(()=>{const m=new T(g);for(let t=0;t<e;t++)r.current.setColorAt(t,m.getColor(t/e));r.current.instanceColor.needsUpdate=!0}),v(({clock:m})=>{const t=m.getElapsedTime();let h,o,n,M,d,f,c;for(let l=0;l<e;l++)h=l+.5,o=Math.acos(1-2*h/e)%Math.PI,n=Math.PI*(1+Math.sqrt(5))*h%x,M=Math.cos(n)*Math.sin(o),d=Math.sin(n)*Math.sin(o),f=Math.cos(o),c=a+.25*a*i.map(B.POLAR,n/x,o/Math.PI,0,t),r.current.setMatrixAt(l,C.setPosition(M*c,d*c,f*c));r.current.instanceMatrix.needsUpdate=!0}),w("instancedMesh",{ref:r,castShadow:!0,receiveShadow:!0,args:[new I,new P,e],children:[u("boxGeometry",{attach:"geometry",args:[s,s,s,1]}),u("meshBasicMaterial",{attach:"material",color:"white",toneMapped:!1})]})},V=({coordinateMapper:i})=>{const{radius:a,nPoints:e,cubeSideLength:s}=R({Sphere:y({radius:{value:2,min:.25,max:3,step:.25},nPoints:{value:800,min:100,max:2e3,step:25},cubeSideLength:{value:.05,min:.01,max:.5,step:.005}},{collapsed:!0})});return w(A,{children:[u(j,{coordinateMapper:i,radius:a,nPoints:e,cubeSideLength:s}),u(G,{position:new E(0,0,-a*(1+.25*i.amplitude))})]})};export{V as default};
