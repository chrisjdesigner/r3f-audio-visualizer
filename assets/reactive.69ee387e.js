import{r as p,M as S,u as T,C as v,T as f,j as w,B,a as I,b as u,c as P,f as R,F as y,G as A,V as E}from"./index.0624a233.js";import{L as G}from"./Lut.95862fb2.js";const O=({coordinateMapper:n,radius:a=2,nPoints:e=800,cubeSideLength:s=.05,colorLut:g="cooltowarm"})=>{const r=p.exports.useRef(null),C=p.exports.useMemo(()=>new S,[]);return p.exports.useEffect(()=>{const h=new G(g);for(let t=0;t<e;t++)r.current.setColorAt(t,h.getColor(t/e));r.current.instanceColor.needsUpdate=!0}),T(({clock:h})=>{const t=h.getElapsedTime();let m,o,i,M,d,x,c;for(let l=0;l<e;l++)m=l+.5,o=Math.acos(1-2*m/e)%Math.PI,i=Math.PI*(1+Math.sqrt(5))*m%f,M=Math.cos(i)*Math.sin(o),d=Math.sin(i)*Math.sin(o),x=Math.cos(o),c=a+.25*a*n.map(v.POLAR,i/f,o/Math.PI,0,t),r.current.setMatrixAt(l,C.setPosition(M*c,d*c,x*c));r.current.instanceMatrix.needsUpdate=!0}),w("instancedMesh",{ref:r,castShadow:!0,receiveShadow:!0,args:[new B,new I,e],children:[u("boxGeometry",{attach:"geometry",args:[s,s,s,1]}),u("meshBasicMaterial",{attach:"material",color:"white",toneMapped:!1})]})},L=({coordinateMapper:n})=>{const{radius:a,nPoints:e,cubeSideLength:s}=P({Sphere:R({radius:{value:2,min:.25,max:3,step:.25},nPoints:{value:800,min:100,max:2e3,step:25},cubeSideLength:{value:.05,min:.01,max:.5,step:.005}},{collapsed:!0})});return w(y,{children:[u(O,{coordinateMapper:n,radius:a,nPoints:e,cubeSideLength:s}),u(A,{position:new E(0,0,-a*(1+.25*n.amplitude))})]})};export{L as default};
