import{r as g,M as v,u as A,j as w,B,a as E,b as x,C as T,c as I,f as Y,F as j,V as z}from"./index.cb8bbf1f.js";import{G as F}from"./ground.3311bbd6.js";import{L as G}from"./Lut.e8a078a1.js";const O=({coordinateMapper:c,nGridRows:t=100,nGridCols:e=100,cubeSideLength:r=.025,cubeSpacingScalar:m=5,colorLut:y="cooltowarm"})=>{const n=g.exports.useRef(null),U=g.exports.useMemo(()=>new v,[]);return g.exports.useEffect(()=>{const f=new G(y),h=Math.hypot(.5,.5);let l,u,i,o;for(let a=0;a<t;a++)for(let s=0;s<e;s++)l=a*e+s,u=a/(t-1),i=s/(e-1),o=Math.hypot(u-.5,i-.5)/h,n.current.setColorAt(l,f.getColor(o));n.current.instanceColor.needsUpdate=!0}),A(({clock:f})=>{const h=f.getElapsedTime(),l=t*m*r,u=e*m*r;let i,o,a,s,M,S;for(let p=0;p<t;p++)for(let d=0;d<e;d++)i=p*e+d,o=p/(t-1),a=d/(e-1),S=c.map(T.CARTESIAN_2D,o,a,0,h),s=l*(o-.5),M=u*(a-.5),n.current.setMatrixAt(i,U.setPosition(s,M,S));n.current.instanceMatrix.needsUpdate=!0}),w("instancedMesh",{ref:n,castShadow:!0,receiveShadow:!0,args:[new B,new E,t*e],children:[x("boxGeometry",{attach:"geometry",args:[r,r,r,1]}),x("meshBasicMaterial",{attach:"material",color:"white",toneMapped:!1})]})},D=({coordinateMapper:c})=>{const{nGridRows:t,nGridCols:e,gridUnitSideLength:r,gridUnitSpacingScalar:m}=I({Grid:Y({nGridRows:{value:100,min:2,max:500,step:1},nGridCols:{value:100,min:2,max:500,step:1},gridUnitSideLength:{value:.025,min:.01,max:.5,step:.005},gridUnitSpacingScalar:{value:5,min:1,max:10,step:.5}},{collapsed:!0})});return w(j,{children:[x(O,{coordinateMapper:c,nGridRows:t,nGridCols:e,cubeSideLength:r,cubeSpacingScalar:m}),x(F,{position:new z(0,0,-2.5*c.amplitude)})]})};export{D as default};
