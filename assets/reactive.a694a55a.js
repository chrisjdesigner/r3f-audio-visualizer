import{r as M,M as _,C as P,u as g,d as w,T as f,j as O,B as A,a as L,b as u,c as T,e as S,f as v,F as B,G as I,V as y}from"./index.a6cd3714.js";const G=({coordinateMapper:o,radius:i=2,nPoints:e=800,cubeSideLength:a=.05,palette:h=T.THREE_COOL_TO_WARM})=>{const s=M.exports.useRef(null),C=M.exports.useMemo(()=>new _,[]),E=P.getPalette(h).buildLut();return M.exports.useEffect(()=>{for(let t=0;t<e;t++)s.current.setColorAt(t,E.getColor(t/e));s.current.instanceColor.needsUpdate=!0}),g(({clock:t})=>{const R=t.getElapsedTime();let m,r,n,p,d,x,l;for(let c=0;c<e;c++)m=c+.5,r=Math.acos(1-2*m/e)%Math.PI,n=Math.PI*(1+Math.sqrt(5))*m%f,p=Math.cos(n)*Math.sin(r),d=Math.sin(n)*Math.sin(r),x=Math.cos(r),l=i+.25*i*o.map(w.POLAR,n/f,r/Math.PI,0,R),s.current.setMatrixAt(c,C.setPosition(p*l,d*l,x*l));s.current.instanceMatrix.needsUpdate=!0}),O("instancedMesh",{ref:s,castShadow:!0,receiveShadow:!0,args:[new A,new L,e],children:[u("boxGeometry",{attach:"geometry",args:[a,a,a,1]}),u("meshBasicMaterial",{attach:"material",color:"white",toneMapped:!1})]})},b=({coordinateMapper:o,palette:i=T.THREE_COOL_TO_WARM})=>{const{radius:e,nPoints:a,cubeSideLength:h}=S({"Visual - Sphere":v({radius:{value:2,min:.25,max:3,step:.25},nPoints:{value:800,min:100,max:2e3,step:25},cubeSideLength:{value:.05,min:.01,max:.5,step:.005}},{collapsed:!0})});return O(B,{children:[u(G,{coordinateMapper:o,radius:e,nPoints:a,cubeSideLength:h,palette:i}),u(I,{position:new y(0,0,-e*(1+.25*o.amplitude))})]})};export{b as default};
