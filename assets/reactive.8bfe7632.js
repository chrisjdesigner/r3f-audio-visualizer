import{r as l,M as g,a as v,b as S,B,c as E,j as d,_ as C,d as T,f as G,u as f,E as I,F as P,V as j}from"./index.6a4a3c5d.js";import{G as A}from"./ground.f25987c0.js";import{L as F}from"./Lut.4994c9e7.js";const R=({coordinateMapper:n,radius:i=2,nPoints:e=800,cubeSideLength:r=.05,colorLut:m="cooltowarm"})=>{const t=l.exports.useRef(null),a=l.exports.useMemo(()=>new g,[]);return l.exports.useEffect(()=>{const h=new F(m);for(let s=0;s<e;s++)t.current.setColorAt(s,h.getColor(s/e));t.current.instanceColor.needsUpdate=!0}),v(({clock:h})=>{const s=h.getElapsedTime();let M,o,c,x,w,y,p;for(let u=0;u<e;u++)M=u+.5,o=Math.acos(1-2*M/e)%Math.PI,c=Math.PI*(1+Math.sqrt(5))*M%C,x=Math.cos(c)*Math.sin(o),w=Math.sin(c)*Math.sin(o),y=Math.cos(o),p=i+.25*i*n.map(c/C,o/Math.PI,0,s),t.current.setMatrixAt(u,a.setPosition(x*p,w*p,y*p));t.current.instanceMatrix.needsUpdate=!0}),S("instancedMesh",{ref:t,castShadow:!0,receiveShadow:!0,args:[new B,new E,e],children:[d("boxGeometry",{attach:"geometry",args:[r,r,r,1]}),d("meshBasicMaterial",{attach:"material",color:"white",toneMapped:!1})]})},U=({})=>{const{radius:n,nPoints:i,cubeSideLength:e}=T({Sphere:G({radius:{value:2,min:.25,max:3,step:.25},nPoints:{value:800,min:100,max:2e3,step:25},cubeSideLength:{value:.05,min:.01,max:.5,step:.005}},{collapsed:!0})}),r=f(a=>a.amplitude),m=f(a=>a.updateCoordinateType),t=f(a=>a.coordinateMapper);return l.exports.useEffect(()=>{m(I.Polar)},[]),S(P,{children:[d(R,{coordinateMapper:t,radius:n,nPoints:i,cubeSideLength:e}),d(A,{position:new j(0,0,-n*(1+.25*r))})]})};export{U as default};
