import{u as w,f as I,r as l,M as E,a as O,b as R,B as S,c as D,j as f}from"./index.6b7923b4.js";import{L}from"./Lut.3b31f407.js";const h="polar_2d",_="polar_phi",A="polar_theta",N=Math.hypot(.5,.5),B=(s,t,e=h)=>{switch(e){case _:return t;case A:return s;case h:default:return Math.hypot(s-.5,t-.5)/N}},T=({getValueForNormalizedCoord:s})=>{const{radius:t,nPoints:e,cubeSideLength:n,mapMode:m}=w({Sphere:I({radius:{value:2,min:.25,max:3,step:.25},nPoints:{value:800,min:100,max:2e3,step:25},cubeSideLength:{value:.05,min:.01,max:.5,step:.005},mapMode:{value:h,options:[h,_,A]}},{collapsed:!0})}),r=l.exports.useRef(null),g=l.exports.useMemo(()=>new E,[]);return l.exports.useEffect(()=>{const u=new L("cooltowarm");for(let a=0;a<e;a++)r.current.setColorAt(a,u.getColor(a/e));r.current.instanceColor.needsUpdate=!0},[e,t,n,m,s]),O(({clock:u})=>{const a=u.getElapsedTime();let p,o,c,d,P,x,i;for(let M=0;M<e;M++)p=M+.5,o=Math.acos(1-2*p/e)%Math.PI,c=Math.PI*(1+Math.sqrt(5))*p%(2*Math.PI),d=Math.cos(c)*Math.sin(o),P=Math.sin(c)*Math.sin(o),x=Math.cos(o),i=t+.25*t*s(c/(2*Math.PI),o/Math.PI,m,a),r.current.setMatrixAt(M,g.setPosition(d*i,P*i,x*i));r.current.instanceMatrix.needsUpdate=!0}),R("instancedMesh",{ref:r,castShadow:!0,receiveShadow:!0,args:[new S,new D,e],children:[f("boxGeometry",{attach:"geometry",args:[n,n,n,1]}),f("meshBasicMaterial",{attach:"material",color:"white",toneMapped:!1})]})};export{T as B,h as M,B as g};
