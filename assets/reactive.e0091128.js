import{r as p,M as v,u as y,j as w,B,a as C,b as u,E,_ as x,c as G,f as I,F as P,V as j}from"./index.fe63cd3e.js";import{G as F}from"./ground.b47bff8f.js";import{L as R}from"./Lut.5b522fe9.js";const T=({coordinateMapper:i,radius:a=2,nPoints:e=800,cubeSideLength:s=.05,colorLut:g="cooltowarm"})=>{const r=p.exports.useRef(null),S=p.exports.useMemo(()=>new v,[]);return p.exports.useEffect(()=>{const m=new R(g);for(let t=0;t<e;t++)r.current.setColorAt(t,m.getColor(t/e));r.current.instanceColor.needsUpdate=!0}),y(({clock:m})=>{const t=m.getElapsedTime();let h,o,n,M,d,f,c;for(let l=0;l<e;l++)h=l+.5,o=Math.acos(1-2*h/e)%Math.PI,n=Math.PI*(1+Math.sqrt(5))*h%x,M=Math.cos(n)*Math.sin(o),d=Math.sin(n)*Math.sin(o),f=Math.cos(o),c=a+.25*a*i.map(E.Polar,n/x,o/Math.PI,0,t),r.current.setMatrixAt(l,S.setPosition(M*c,d*c,f*c));r.current.instanceMatrix.needsUpdate=!0}),w("instancedMesh",{ref:r,castShadow:!0,receiveShadow:!0,args:[new B,new C,e],children:[u("boxGeometry",{attach:"geometry",args:[s,s,s,1]}),u("meshBasicMaterial",{attach:"material",color:"white",toneMapped:!1})]})},L=({coordinateMapper:i})=>{const{radius:a,nPoints:e,cubeSideLength:s}=G({Sphere:I({radius:{value:2,min:.25,max:3,step:.25},nPoints:{value:800,min:100,max:2e3,step:25},cubeSideLength:{value:.05,min:.01,max:.5,step:.005}},{collapsed:!0})});return w(P,{children:[u(T,{coordinateMapper:i,radius:a,nPoints:e,cubeSideLength:s}),u(F,{position:new j(0,0,-a*(1+.25*i.amplitude))})]})};export{L as default};
