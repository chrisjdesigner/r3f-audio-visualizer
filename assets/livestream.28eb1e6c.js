import{r as a,u as n,j as d}from"./index.e77f1834.js";import{A as g}from"./audioMotion-analyzer.59e8360d.js";const A=({url:u="http://igor.torontocast.com:1950/stream"})=>{const e=a.exports.useRef(null),o=a.exports.useRef(null),s=n(r=>r.data),c=n(r=>r.resizeData),l=()=>{console.log("Play Audio..."),e.current.src=u,e.current.play()},i=r=>{const t=r.getBars();s.length!=t.length&&(c(t.length),console.log(`Resizing ${t.length}`)),t.forEach(({value:f},p)=>{s[p]=f[0]})};return a.exports.useEffect(()=>{!e.current||o.current||(o.current=new g(void 0,{source:e.current,mode:2,useCanvas:!1,onCanvasDraw:i}),o.current.volume=1,l())},[]),d("audio",{ref:e,crossOrigin:"anonymous"})};export{A as default};
