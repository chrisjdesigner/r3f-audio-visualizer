import{u as g,f as y,r as f,M as b,a as B,b as v,B as C,c as R,j as G}from"./index.3df260d0.js";import{L}from"./Lut.3763d62a.js";const Y=({getValueForNormalizedCoord:h})=>{const{nGridRows:r,nGridCols:e,cubeSideLength:s,cubeSpacingScalar:u}=g({Grid:y({nGridRows:{value:100,min:2,max:500,step:1},nGridCols:{value:100,min:2,max:500,step:1},cubeSideLength:{value:.025,min:.01,max:.5,step:.005},cubeSpacingScalar:{value:5,min:1,max:10,step:.5}},{collapsed:!0})}),n=f.exports.useRef(null),S=f.exports.useMemo(()=>new b,[]);return f.exports.useEffect(()=>{const p=new L("cooltowarm"),x=Math.hypot(.5,.5);let c,l,i,o;for(let t=0;t<r;t++)for(let a=0;a<e;a++)c=t*e+a,l=t/(r-1),i=a/(e-1),o=Math.hypot(l-.5,i-.5)/x,n.current.setColorAt(c,p.getColor(o));n.current.instanceColor.needsUpdate=!0},[r,e,s,u,h]),B(({clock:p})=>{const x=p.getElapsedTime(),c=r*u*s,l=e*u*s;let i,o,t,a,M,w;for(let d=0;d<r;d++)for(let m=0;m<e;m++)i=d*e+m,o=d/(r-1),t=m/(e-1),w=h(o,t,x),a=c*(o-.5),M=l*(t-.5),n.current.setMatrixAt(i,S.setPosition(a,M,w));n.current.instanceMatrix.needsUpdate=!0}),v("instancedMesh",{ref:n,castShadow:!0,receiveShadow:!0,args:[new C,new R,r*e],children:[G("boxGeometry",{attach:"geometry",args:[s,s,s,1]}),G("meshBasicMaterial",{attach:"material",color:"white",toneMapped:!1})]})};export{Y as B};
