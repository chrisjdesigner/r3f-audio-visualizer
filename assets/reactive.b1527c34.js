import{r as g,M as v,a as B,b as y,B as E,c as j,j as x,E as z,d as F,f as G,F as T,V}from"./index.d8ae3098.js";import{G as X}from"./ground.125f52c9.js";import{L as Y}from"./Lut.e020dd5d.js";const A=({coordinateMapper:c,nGridRows:t=100,nGridCols:e=100,cubeSideLength:r=.025,cubeSpacingScalar:m=5,colorLut:S="cooltowarm"})=>{const n=g.exports.useRef(null),U=g.exports.useMemo(()=>new v,[]);return g.exports.useEffect(()=>{const f=new Y(S),h=Math.hypot(.5,.5);let l,d,i,o;for(let a=0;a<t;a++)for(let s=0;s<e;s++)l=a*e+s,d=a/(t-1),i=s/(e-1),o=Math.hypot(d-.5,i-.5)/h,n.current.setColorAt(l,f.getColor(o));n.current.instanceColor.needsUpdate=!0}),B(({clock:f})=>{const h=f.getElapsedTime(),l=t*m*r,d=e*m*r;let i,o,a,s,M,w;for(let p=0;p<t;p++)for(let u=0;u<e;u++)i=p*e+u,o=p/(t-1),a=u/(e-1),w=c.map(z.Cartesian_2D,o,a,0,h),s=l*(o-.5),M=d*(a-.5),n.current.setMatrixAt(i,U.setPosition(s,M,w));n.current.instanceMatrix.needsUpdate=!0}),y("instancedMesh",{ref:n,castShadow:!0,receiveShadow:!0,args:[new E,new j,t*e],children:[x("boxGeometry",{attach:"geometry",args:[r,r,r,1]}),x("meshBasicMaterial",{attach:"material",color:"white",toneMapped:!1})]})},H=({coordinateMapper:c})=>{const{nGridRows:t,nGridCols:e,gridUnitSideLength:r,gridUnitSpacingScalar:m}=F({Grid:G({nGridRows:{value:100,min:2,max:500,step:1},nGridCols:{value:100,min:2,max:500,step:1},gridUnitSideLength:{value:.025,min:.01,max:.5,step:.005},gridUnitSpacingScalar:{value:5,min:1,max:10,step:.5}},{collapsed:!0})});return y(T,{children:[x(A,{coordinateMapper:c,nGridRows:t,nGridCols:e,cubeSideLength:r,cubeSpacingScalar:m}),x(X,{position:new V(0,0,-2.5*c.amplitude)})]})};export{H as default};
